{"version":3,"file":"static/js/167.53275656.chunk.js","mappings":"6NAGaA,EAAa,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC3B,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAeA,OACE,kBAAMH,SAVW,SAAAI,GACjBA,EAAEC,iBACmB,KAAjBH,EAAMI,OAIVN,EAASE,GAHPK,EAAAA,GAAAA,KAAW,6BAKd,EAEC,WACE,kBAAOC,KAAK,OAAOC,MAAOP,EAAOQ,SAfhB,SAAAN,GACnBD,EAASC,EAAEO,cAAcF,MAC1B,KAcG,mBAAQD,KAAK,SAAb,sBAGL,E,2BCvBYI,E,OAAQC,GAAAA,GAAH,4CCkDlB,EA5Ce,WAAO,IAAD,EACnB,GAA0BZ,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwCF,EAAAA,EAAAA,UAAS,IAAjD,eAAOa,EAAP,KAAqBC,EAArB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAM,UAAGF,EAAaG,IAAI,YAApB,QAA4B,GAClCC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACRpB,EAASgB,GACK,KAAVjB,GAIJsB,MAAM,GAAD,OAhBQ,4CAgBR,oBAfO,mCAeP,kBAAyCtB,IAC3CuB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,IACbF,MAAK,YAAkB,IAAfG,EAAc,EAAdA,QACPb,EAAgBa,EACjB,IACAC,OAAM,SAAAC,GACLC,MAAMD,EACP,GACJ,GAAE,CAAC5B,EAAOiB,IAOX,OACE,4BACE,SAACpB,EAAD,CAAYC,SAPK,SAAAgC,GACnB7B,EAAS6B,GACTd,EAAgB,CAAEe,EAAGD,GACtB,KAKG,wBACGlB,EAAaoB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OAChB,SAACxB,EAAD,WACE,SAAC,KAAD,CAAMyB,GAAE,UAAKF,GAAMG,MAAO,CAAEC,KAAMlB,GAAlC,SACGe,KAFOD,EADI,QAUzB,C","sources":["components/SearchForm.jsx","pages/Movies.styled.js","pages/Movies.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { toast } from 'react-toastify';\n\nexport const SearchForm = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleChange = e => {\n    setQuery(e.currentTarget.value);\n  };\n\n  const formSubmit = e => {\n    e.preventDefault();\n    if (query.trim() === '') {\n      toast.info('The search field is empty!');\n      return;\n    }\n    onSubmit(query);\n    // setQuery('');\n  };\n  return (\n    <form onSubmit={formSubmit}>\n      <input type=\"text\" value={query} onChange={handleChange}></input>\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Links = styled.li`\n  margin-top: 5px;\n`;\n","import { SearchForm } from 'components/SearchForm';\nimport { useState, useEffect } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { Links } from './Movies.styled';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/search/movie';\nconst API_KEY = 'a0d13cdb64d238d9f40292183aa77574';\n\nconst Movies = () => {\n  const [query, setQuery] = useState('');\n  const [searchMovies, setSearchMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('q') ?? '';\n  const location = useLocation();\n\n  useEffect(() => {\n    setQuery(search);\n    if (query === '') {\n      return;\n    }\n\n    fetch(`${BASE_URL}?api_key=${API_KEY}&query=${query}`)\n      .then(response => response.json())\n      .then(({ results }) => {\n        setSearchMovies(results);\n      })\n      .catch(error => {\n        alert(error);\n      });\n  }, [query, search]);\n\n  const handleChange = searchValue => {\n    setQuery(searchValue);\n    setSearchParams({ q: searchValue });\n  };\n\n  return (\n    <div>\n      <SearchForm onSubmit={handleChange} />\n      <ul>\n        {searchMovies.map(({ id, title }) => (\n          <Links key={id}>\n            <Link to={`${id}`} state={{ from: location }}>\n              {title}\n            </Link>\n          </Links>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["SearchForm","onSubmit","useState","query","setQuery","e","preventDefault","trim","toast","type","value","onChange","currentTarget","Links","styled","searchMovies","setSearchMovies","useSearchParams","searchParams","setSearchParams","search","get","location","useLocation","useEffect","fetch","then","response","json","results","catch","error","alert","searchValue","q","map","id","title","to","state","from"],"sourceRoot":""}